<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Jeopardy Login</title>
<script src="/socket.io/socket.io.js"></script>
<style>
body{margin:0;padding:0;font-family:Arial,sans-serif;background:#0b1e2d;color:white;display:flex;justify-content:center;align-items:center;height:100vh;}
.login-container{background:rgba(0,0,0,0.7);padding:40px;border-radius:10px;text-align:center;width:300px;}
input{width:90%;padding:10px;margin:10px 0;border-radius:5px;border:none;font-size:16px;}
button{width:95%;padding:10px;margin:10px 0;border-radius:5px;border:none;background:#00c3ff;color:white;font-size:18px;cursor:pointer;transition:0.3s;}
button:hover{transform:scale(1.05);background:#0099cc;}
#errorMsg{color:#ff5555;margin-top:10px;font-weight:bold;}
</style>
</head>
<body>
<div class="login-container">
<h2>Jeopardy Login</h2>
<input id="username" placeholder="Username">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<div id="errorMsg"></div>
</div>

<script>
const socket = io();

function login(){
  const username = document.getElementById("username").value;
  const password = document.getElementById("password").value;
  if(!username || !password){
    document.getElementById("errorMsg").innerText="Bitte Username und Passwort eingeben";
    return;
  }
  socket.emit('login',{username,password});
}

socket.on('loginSuccess', data=>{
  localStorage.setItem("username",data.username);
  localStorage.setItem("role",data.role);
  if(data.role==="admin") window.location.href="/admin.html";
  else window.location.href="/board.html";
});

socket.on('loginFail', msg=>{
  document.getElementById("errorMsg").innerText = msg;
});
</script>
</body>
</html>
