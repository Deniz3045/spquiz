<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<link rel="stylesheet" href="css/admin.css">
</head>
<body>

<h1>Admin Panel</h1>

<div class="section">

<h2>Spieler erstellen</h2>

<input id="newUsername" placeholder="Username">
<input id="newPassword" placeholder="Password">

<select id="newRole">
<option value="player">Player</option>
<option value="editor">Editor</option>
<option value="admin">Admin</option>
</select>

<button onclick="createUser()">Erstellen</button>

</div>

<div class="section">

<h2>Spieler Liste</h2>

<div id="usersList"></div>

</div>

<div class="section">

<h2>Boards</h2>

<button onclick="openEditor()">Board Editor Ã¶ffnen</button>

<button onclick="openQuiz()">Quiz starten</button>

</div>

<script>

async function createUser(){

const username=document.getElementById("newUsername").value;
const password=document.getElementById("newPassword").value;
const role=document.getElementById("newRole").value;

await fetch("/api/users/create",{

method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({username,password,role})

});

loadUsers();

}

async function loadUsers(){

const res = await fetch("/api/users");
const users = await res.json();

const div=document.getElementById("usersList");

div.innerHTML="";

users.forEach(u=>{

div.innerHTML+=`
<div class="user">
${u.username} (${u.role})
</div>
`;

});

}

function openEditor(){

window.open("board-editor.html");

}

function openQuiz(){

window.open("quiz.html");

}

loadUsers();

</script>

</body>
</html>
