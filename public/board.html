<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Jeopardy Spieler</title>
<script src="/socket.io/socket.io.js"></script>
<style>
body{margin:0;padding:0;font-family:Arial,sans-serif;background:#0b1e2d;color:white;}
#currentQuestionPlayer{margin:20px;padding:15px;background:#0b2a42;border-radius:5px; display:none;}
#buzzerSection{margin-top:10px; display:none;}
button{padding:10px;margin:5px;border-radius:5px;border:none;background:#00c3ff;color:white;cursor:pointer;}
button:hover{background:#0099cc;}
#timerDisplayPlayer{font-size:24px;margin-top:10px;}
</style>
</head>
<body>
<div id="currentQuestionPlayer">
<h3 id="questionTextPlayer"></h3>
<div id="buzzerSection"><button id="buzzBtn">Buzz!</button></div>
</div>
<div id="timerDisplayPlayer"></div>

<script>
const socket = io();
let canBuzz = false;

socket.on('questionSelected', q=>{
  document.getElementById("currentQuestionPlayer").style.display="block";
  document.getElementById("questionTextPlayer").innerText = q.text;
  document.getElementById("buzzerSection").style.display="none";
  canBuzz=false;
});

socket.on('buzzersUnlocked', ()=>{
  document.getElementById("buzzerSection").style.display="block";
  canBuzz=true;
});

document.getElementById("buzzBtn").onclick = ()=>{
  if(canBuzz){
    socket.emit('buzz', localStorage.getItem('username'));
    canBuzz=false;
  }
};

socket.on('timerUpdate', time=>{document.getElementById("timerDisplayPlayer").innerText = "Timer: "+time;});
socket.on('timerEnded', ()=>{document.getElementById("timerDisplayPlayer").innerText = "Zeit abgelaufen!";});
</script>
</body>
</html>
