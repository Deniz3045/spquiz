<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>

<style>

body{
font-family:Arial;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
color:white;
margin:0;
}

.container{
padding:20px;
}

.card{
background:rgba(255,255,255,0.05);
padding:20px;
margin:10px;
border-radius:10px;
}

button{
background:#00c6ff;
border:none;
padding:10px;
color:white;
cursor:pointer;
margin:5px;
}

input{
padding:10px;
margin:5px;
}

</style>
</head>
<body>

<div class="container">

<h1>Admin Panel</h1>

<div class="card">

<h2>User erstellen</h2>

<input id="user" placeholder="Username">
<input id="pass" placeholder="Password">

<select id="role">
<option value="player">Player</option>
<option value="admin">Admin</option>
</select>

<button onclick="addUser()">Erstellen</button>

</div>

<div class="card">

<h2>Board Archiv</h2>

<div id="boards"></div>

<input id="newBoard" placeholder="Board Datei Name">

<button onclick="createBoard()">Erstellen</button>

</div>

</div>

<script>

async function addUser(){

await fetch("/api/admin/addUser",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
username:user.value,
password:pass.value,
role:role.value
})
});

alert("User erstellt");
}

async function loadBoards(){

const res=await fetch("/api/boards/files");

const files=await res.json();

boards.innerHTML="";

files.forEach(f=>{

boards.innerHTML+=`
<div>
${f.file}
<button onclick="startGame('${f.file}')">Start</button>
</div>
`;

});

}

async function createBoard(){

await fetch("/api/boards/create",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
fileName:newBoard.value
})
});

loadBoards();
}

async function startGame(file){

await fetch("/api/game/start",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({
file
})
});

alert("Quiz gestartet");

}

loadBoards();

</script>

</body>
</html>
